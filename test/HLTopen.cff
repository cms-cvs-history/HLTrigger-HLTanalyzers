### Open-HLT includes, modules and paths for Muon
  include "HLTrigger/Muon/data/OnlyReco.cff"
  path DoHltMuon = { recoHLTMuIso }


### Open-HLT includes, modules and paths for Egamma
 include "HLTrigger/Egamma/data/EgammaHLTLocal_1e32.cff"
# ECAL Super clusters
 include "RecoEgamma/EgammaHLTProducers/data/l1IsolatedEcalSuperClusters.cff"
 include "RecoEgamma/EgammaHLTProducers/data/l1NonIsolatedEcalSuperClusters.cff"

 include "RecoEgamma/EgammaHLTProducers/data/l1IsoRecoEcalCandidate.cff"
 include "RecoEgamma/EgammaHLTProducers/data/l1NonIsoRecoEcalCandidate.cff"
 include "RecoEgamma/EgammaHLTProducers/data/l1IsoPhotonEcalIsol.cff"
 include "RecoEgamma/EgammaHLTProducers/data/l1NonIsoPhotonEcalIsol.cff"
 include "RecoEgamma/EgammaHLTProducers/data/l1IsolatedPhotonHcalIsol.cff"
 include "RecoEgamma/EgammaHLTProducers/data/l1NonIsolatedPhotonHcalIsol.cff"
 include "RecoEgamma/EgammaHLTProducers/data/l1IsoEgammaRegionalRecoTracker.cff"
 include "RecoEgamma/EgammaHLTProducers/data/l1NonIsoEgammaRegionalRecoTracker.cff"
 include "RecoEgamma/EgammaHLTProducers/data/l1IsoPhotonTrackIsol.cff"
 include "RecoEgamma/EgammaHLTProducers/data/l1NonIsoPhotonTrackIsol.cff"
 include "RecoEgamma/EgammaHLTProducers/data/l1IsolatedElectronHcalIsol.cff"
 include "RecoEgamma/EgammaHLTProducers/data/l1NonIsolatedElectronHcalIsol.cff"
 include "RecoEgamma/EgammaHLTProducers/data/pixelMatchElectronL1IsoSequenceForHLT.cff"
 include "RecoEgamma/EgammaHLTProducers/data/pixelMatchElectronL1NonIsoSequenceForHLT.cff"
 include "RecoEgamma/EgammaHLTProducers/data/pixelMatchElectronL1IsoTrackingSequenceForHLT.cff"
 include "RecoEgamma/EgammaHLTProducers/data/pixelMatchElectronL1NonIsoTrackingSequenceForHLT.cff"
 include "RecoEgamma/EgammaHLTProducers/data/l1IsoElectronsRegionalRecoTracker.cff"
 include "RecoEgamma/EgammaHLTProducers/data/l1NonIsoElectronsRegionalRecoTracker.cff"
 include "RecoEgamma/EgammaHLTProducers/data/l1IsoElectronTrackIsol.cff"
 include "RecoEgamma/EgammaHLTProducers/data/l1NonIsoElectronTrackIsol.cff"

# Seeding and track reconstruction for electrons (large windows)
include "RecoEgamma/EgammaHLTProducers/data/pixelMatchElectronL1IsoLargeWindowSequenceForHLT.cff"
include "RecoEgamma/EgammaHLTProducers/data/pixelMatchElectronL1NonIsoLargeWindowSequenceForHLT.cff"
# Tracking for electrons, for track isolation (large windows)
include "RecoEgamma/EgammaHLTProducers/data/l1IsoLargeWindowElectronsRegionalRecoTracker.cff"	
include "RecoEgamma/EgammaHLTProducers/data/l1NonIsoLargeWindowElectronsRegionalRecoTracker.cff"
# Electron track isolation for large seeding windows
 include "RecoEgamma/EgammaHLTProducers/data/l1IsoLargeWindowElectronTrackIsol.cff"
 include "RecoEgamma/EgammaHLTProducers/data/l1NonIsoLargeWindowElectronTrackIsol.cff"

path DoHltPhoton = {hltBegin  
			& doRegionalEgammaEcal
			& l1IsolatedEcalClusters 
			& l1NonIsolatedEcalClusters
			& l1IsoRecoEcalCandidate
			& l1NonIsoRecoEcalCandidate
			& l1IsolatedPhotonEcalIsol
			& l1NonIsolatedPhotonEcalIsol
			& doLocalHcalWithoutHO
			& l1IsolatedPhotonHcalIsol
			& l1NonIsolatedPhotonHcalIsol
			& doLocalPixel
			& doLocalStrip
			& l1IsoEgammaRegionalRecoTracker
			& l1NonIsoEgammaRegionalRecoTracker
			& l1IsoPhotonTrackIsol
			& l1NonIsoPhotonTrackIsol}

path DoHltElectron = {hltBegin   
			& doRegionalEgammaEcal 
			& l1IsolatedEcalClusters 
			& l1NonIsolatedEcalClusters 
			& l1IsoRecoEcalCandidate 
			& l1NonIsoRecoEcalCandidate 
			## & MyMatchFilterRegional
			& doLocalHcalWithoutHO 
			& l1IsolatedElectronHcalIsol 
			& l1NonIsolatedElectronHcalIsol 
			& doLocalPixel 
			& pixelMatchElectronL1IsoSequenceForHLT 
			& pixelMatchElectronL1NonIsoSequenceForHLT 
			& doLocalStrip // strip rechit for the electron tracking
			& pixelMatchElectronL1IsoTrackingSequenceForHLT 
			& pixelMatchElectronL1NonIsoTrackingSequenceForHLT 
			## & hltL1NonIsoSingleElectronEoverpFilter 
			& l1IsoElectronsRegionalRecoTracker 
			& l1NonIsoElectronsRegionalRecoTracker 
			& l1IsoElectronTrackIsol 
			& l1NonIsoElectronTrackIsol}


path DoHltElectronLargeWindows = {hltBegin &
                               	    doRegionalEgammaEcal &
                                    l1IsolatedEcalClusters &
                                    l1NonIsolatedEcalClusters &
                                    l1IsoRecoEcalCandidate &
                                    l1NonIsoRecoEcalCandidate &
                                    doLocalHcalWithoutHO &
                                    l1IsolatedElectronHcalIsol & 
                                    l1NonIsolatedElectronHcalIsol & 
                                    doLocalPixel & 
	                            pixelMatchElectronL1IsoLargeWindowSequenceForHLT & 
	                            pixelMatchElectronL1NonIsoLargeWindowSequenceForHLT & 
			            doLocalStrip & 
                                    pixelMatchElectronL1IsoLargeWindowTrackingSequenceForHLT &
                                    pixelMatchElectronL1NonIsoLargeWindowTrackingSequenceForHLT &
                                    l1IsoLargeWindowElectronsRegionalRecoTracker & 
                                    l1NonIsoLargeWindowElectronsRegionalRecoTracker & 
                                    l1IsoLargeWindowElectronTrackIsol & 
                                    l1NonIsoLargeWindowElectronTrackIsol  
                                   }


### Open-HLT includes, modules and paths for JetMET
include "HLTrigger/Configuration/data/common/CaloTowers.cff"
include "HLTrigger/Configuration/data/common/RecoJetMET.cff"
sequence recoJetMETPath = {doCalo & (doHLTJetReco & doHLTMETReco & doHLTHTReco)}
path DoHltJetMET = {recoJetMETPath}


### Open-HLT includes, modules and paths for Tau
include "HLTrigger/HLTanalyzers/test/TauOpenHLT.cff"


### Open-HLT includes, modules and paths for b-jet

## lifetime-based b-tag OpenHLT
# L1 seeds
include "HLTrigger/btau/data/jetTag/lifetimeL1Seeds.cff"
# reconstruct calo jets and select those to be used for b tagging
include "HLTrigger/btau/data/jetTag/jetReco.cff"
include "HLTrigger/btau/data/jetTag/lifetimeJetReco.cff"
# setup lifetime tagers
include "HLTrigger/btau/data/jetTag/lifetimeTaggers.cff"
# lifetime-based b HLT modules for Level 2.5 and 3
include "HLTrigger/btau/data/jetTag/lifetimeL25.cff"
# jet tracks associator at vertex running on L2.5 jets and pixel-only tracks (pixel triplets)
module  hltBLifetimeL25Associator = ic5JetTracksAssociatorAtVertex from "RecoJets/JetAssociationProducers/data/ic5JetTracksAssociatorAtVertex.cfi"
replace hltBLifetimeL25Associator.tracks = pixelTracks
replace hltBLifetimeL25Associator.jets   = hltBLifetimeL25Jets  # take jets b-tagged at L2.5
# regional track reconstructor
replace hltBLifetimeRegionalPixelSeedGenerator.RegionFactoryPSet.RegionPSet.JetSrc = hltBLifetimeL25Jets
# jet tracks associator at vertex running on jets passing L2.5 and regionally reconstructed tracks
module  hltBLifetimeL3Associator = ic5JetTracksAssociatorAtVertex from "RecoJets/JetAssociationProducers/data/ic5JetTracksAssociatorAtVertex.cfi"
replace hltBLifetimeL3Associator.tracks = hltBLifetimeRegionalCtfWithMaterialTracks
replace hltBLifetimeL3Associator.jets   = hltBLifetimeL25Jets  # take jets b-tagged at L2.5

# Reconstruction sequences needed before each trigger.
sequence openHltBLifetimeL3reco = {
    hltBLifetimeL3tracking,
    hltBLifetimeL3Associator,
    hltBLifetimeL3TagInfos,
    hltBLifetimeL3BJetTags
}

# define OpenHLT trigger path
path openHltBLifetime = {
    hltBegin & 
    hltBLifetimeL1seeds &
    hltBCommonL2reco &          # no L2 filter applied 
    hltBLifetimeL25reco &       # no L2.5 filter applied
    openHltBLifetimeL3reco      # no L3 filter applied
}

## soft muon-based b-tag OpenHLT
# L1 seeds
module  openHltBSoftmuonL1seeds = hltLevel1GTSeed from "HLTrigger/HLTfilters/data/hltLevel1GTSeed.cfi"
replace openHltBSoftmuonL1seeds.L1SeedsLogicalExpression = "L1_Mu5_Jet15 OR L1_HTT300"
# reconstruct calo jets and select those to be used for b tagging
include "HLTrigger/btau/data/jetTag/jetReco.cff"
include "HLTrigger/btau/data/jetTag/softmuonJetReco.cff"
# setup soft muon tagers
include "HLTrigger/btau/data/jetTag/softmuonTaggers.cff"
# soft muon-based b HLT modules for Level 2.5 and 3
include "HLTrigger/btau/data/jetTag/softmuonL25.cff"
include "HLTrigger/btau/data/jetTag/softmuonL3.cff"
# define OpenHLT trigger path
path openHltBSoftmuon = {
    hltBegin & 
    openHltBSoftmuonL1seeds &
    hltBCommonL2reco &          # no L2 filter applied 
    hltBSoftmuonL25reco &       # no L2.5 filter applied
    hltBSoftmuonL3reco          # no L3 filter applied
}

## performance b-tag OpenHLT
# L1 seeds
include "HLTrigger/btau/data/jetTag/softmuonL1Seeds.cff"
# reconstruct calo jets and select those to be used for b tagging
include "HLTrigger/btau/data/jetTag/jetReco.cff"
include "HLTrigger/btau/data/jetTag/softmuonJetReco.cff"
# setup soft muon tagers for performance measurement
include "HLTrigger/btau/data/jetTag/softmuonTaggers.cff"
# b-tag performance HLT modules for Level 2.5 and 3
include "HLTrigger/btau/data/jetTag/softmuonL25.cff"
include "HLTrigger/btau/data/jetTag/softmuonL3.cff"
# define OpenHLT trigger path
path openHltBPerformance = {
    hltBegin & 
    hltBSoftmuonNjetL1seeds &
    hltBCommonL2reco &          # no L2 filter applied 
    hltBSoftmuonL25reco &       # no L2.5 filter applied
    hltBSoftmuonL3reco          # no L3 filter applied
} 
